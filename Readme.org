#+STARTUP: indent
#+STARTUP: noinlineimages

#+OPTIONS: reveal_mathjax:t
#+OPTIONS: reveal_slide_number:c/t
#+OPTIONS: reveal_history:t
#+OPTIONS: toc:nil
#+REVEAL_HLEVEL: 2
#+REVEAL_TRANS: linear
#+REVEAL_TITLE_SLIDE:<h1>%t</h1><p>%a</p><p><a href="https://t.me/dura_lex">@dura_lex</a></p>
#+REVEAL_THEME: night
#+REVEAL_EXTRA_CSS: override.css

#+TITLE: How to survive^W live with Linux
#+AUTHOR: Abc Xyz
#+EMAIL: @dura_lex

* How to +survive+ live with Linux
:PROPERTIES:
:UNNUMBERED: notoc
:REVEAL_BACKGROUND: ./images/linux_matrix.png
:END:

↑Title for Windows users↑

* Table of Contents
:PROPERTIES:
:UNNUMBERED: notoc
:END:

#+REVEAL_TOC: headlines 1

* Introduction
** Motivation

#+ATTR_REVEAL: :frag (appear)
- Many questions about tools/tips/scripting/etc in Linux
- Many mentions about my life with Linux
- You should know, what you are losing (Linux vs Windows)
- Sharing experience and knowledge

#+BEGIN_NOTES
- Часто спрашивают совета при работе в Linux, какие инструменты использую.
- Частенько не обходится без шуток. Странно, что сейчас не пошутили, пока всё настраивал.
- Windows не позволяет делать множество вещей.
- В очередной раз хочу рассказать о том, в чём сам разобрался.
#+END_NOTES

** Background

First time in 2006 ([[https://xakep.ru/2007/02/26/36939/][Windows Vista vs Mandriva: какую ОС
  выбрать в 2007 году?]])

#+ATTR_HTML: :width 30%
[[./images/xakep.jpg]]

#+BEGIN_NOTES
Дядя подарил журнал Хакер, на диске которого была Mandriva и *FreeBSD*. Со второй я вообще не понял,
что нужно было делать, т. к. на тот момент *было 12 лет*, а первая заинтересовала, потому что
компьютер был слабый и Windows Vista не тянул, а рабочий стол в виде *вращающегося куба* хотелось.
#+END_NOTES

#+REVEAL: split

#+REVEAL_HTML: <div class="column" style="float:left; width: 30%">
- Mandriva
- Ubuntu
- Runtu
- Fedora
- Debian
- Slackware
- SUSE
- MeeGo
- NixOS
- GuixSD
- Xubuntu
#+REVEAL_HTML: </div>

#+REVEAL_HTML: <div class="column" style="float:left; width: 30%">
- CentOS
- Calculate
- Gentoo
- BolgenOS
- OpenWRT
- webOS
- ChromiumOS
- AstraLinux
- AltLinux
- Mageia
- Moblin
#+REVEAL_HTML: </div>

#+REVEAL_HTML: <div class="column" style="float:left; width: 30%">
- Linux Mint
- Kubunutu
- Knoppix
- Damn Vulnerable Linux
- Backtrack
- Mythbuntu
- SteamOS
- Mandrake
- many others
#+REVEAL_HTML: </div>

#+BEGIN_NOTES
Вот далеко не целый список ОС, которые я пробовал или использовал.

Среди интересных (о которых *не будет рассказано* далее):
- MeeGo — Moblin (Intel) + Maemo (Nokia) = Nokia N900
- BolgenOS — всеми известная ОС Дениса Попова, которую нельзя не попробовать.
- ChromiumOS — изучал исходный код, написан великолепно, а главное — есть Rust.
- AstraLinux — очень много работал в своё время, даже писал модули ядра для мандатной системы.
- Backtrack — WHAX + Auditor Security Collection; все ли помнят, откуда пришла KaliLinux?
- SteamOS — ставил основной системой для игр, когда был глупым, толку никакого.
#+END_NOTES

#+REVEAL: split

Arch Linux since 2013

#+ATTR_HTML: :width 70%
[[./images/archlinux_logo.png]]

#+BEGIN_NOTES
Примерно на *первом-втором курсе* я купил ноутбук и установил туда ArchLinux, с тех пор *ни разу не
переустанавливал*, только обновлял пакеты и настройки.
#+END_NOTES

#+REVEAL: split

Open source community member (maintainer, developer)

#+ATTR_HTML: :width 70%
[[./images/oss.jpg]]

#+BEGIN_NOTES
Являюсь maintainer некоторых пакетов в ArchLinux, ну и разработчиком соответственно. Пытаюсь по мере
возможности принимать участие *в обсуждении направления развития* ОС или утилиты, которые мне
интересны.

Стараюсь писать небольшие заметки и статьи для общего пользования, но качества они не очень
хорошего, поэтому в массы их не выкладываю.

Для *всего контента (статьи, доклады, настольные игры)*, что я произвожу стараюсь выкладывать
исходные тексты.
#+END_NOTES

** Disclaimer

I'm the software evangelist I use

#+BEGIN_NOTES
Моя любимая рубрика.

К тому, про что я буду рассказывать, буду относиться *предвзято*.
#+END_NOTES

#+REVEAL_HTML: <div class="container" style="display:flex; align-items:center">
#+REVEAL_HTML: <div class="column" style="float:left; width: 20%">
[[./images/rust_logo.png]]
#+REVEAL_HTML: </div>

#+REVEAL_HTML: <div class="column" style="float:left; width: 20%">
[[./images/spacemacs_logo.png]]
#+REVEAL_HTML: </div>

#+REVEAL_HTML: <div class="column" style="float:left; width: 20%">
[[./images/ghidra_logo.png]]
#+REVEAL_HTML: </div>

#+REVEAL_HTML: <div class="column" style="float:left; width: 20%">
[[./images/archlinux_logo_mini.png]]
#+REVEAL_HTML: </div>

#+REVEAL_HTML: <div class="column" style="float:left; width: 20%">
[[./images/gitlab_logo.png]]
#+REVEAL_HTML: </div>
#+REVEAL_HTML: </div>

* Principles
** KISS

keep it simple stupid

#+ATTR_REVEAL: :frag (appear)
#+ATTR_HTML: :width 90%
[[./images/archlinux_kiss.jpg]]

#+BEGIN_NOTES
Термин был придуман в ВВС США, *главой Lockheed*. Самолёты должны быть настолько простыми, что
*любой механик мог их починить* между боями.

В нашем Linux мирке этот акроним расшифровывается немного по-другому, но значение остаётся тем же. Я
стараюсь *следовать этому принципу*, так же, как и другим в *Unix-way*, например, программа должна
делать только *одну работу хорошо*. Чаще всего GUI приложения в данную категорию не попадают, потому
что они комплексные, как минимум там нужно понимать, как работают потоки.
#+END_NOTES

** TUI

Text-based user interface

#+ATTR_ORG: :width 900
[[./images/Fdedit.png]]

#+BEGIN_NOTES
Текстовый интерфейс может быть достаточно разным, но скорее всего вы привыкли его видеть таким,
каким он представлен на рисунке (Windows).

Это и есть соблюдение принципов KISS.
#+END_NOTES

** CLI

Command-line interface

#+ATTR_ORGR: :width 90%
[[./images/cli.png]]

#+BEGIN_NOTES
- легко использовать
- легко переносить
- легко разрабатывать
- чистый KISS
#+END_NOTES

* OS

*It's my opinion, for my workflow

** ArchLinux

#+ATTR_REVEAL: :frag (appear)
- KISS (no bloatware and unnecessary services)
- Stability & Reliability (rolling release)
- Arch Wiki
- =pacman=
- Arch User Repository
- Perfect learning base
- Arch Linux Community (no companies, no corporate ties)
- Flexibility & Customization

#+BEGIN_NOTES
- *Нет ничего лишнего*, только то, что вы сами установили и настроили.
- Да, не удивляйтесь. Пакеты можно *обновлять только все разом*, соответственно в любой промежуток
  времени тестирование проходит именно на последних версиях пакетов. Баги возникают только *из-за
  конфликтов файлов конфигураций*.
- Возникли проблемы на любом Linux — читай Arch Wiki.
- Пожалуй, лучший пакетный менеджер, к тому же самый быстрый.
- Любой пакет из git репозитория. Есть *всё, что душе угодно*.
- Хотите познать Linux, ставьте ArchLinux.
- Яркий пример продукта, который делается сообществом (как с положительной, так и отрицательной
  точки зрения).
- Один из самых разумно-гибких дистрибутивов.
#+END_NOTES

** Why not others?

*** Ubuntu, Fedora, Mint, Manjaro, etc

Because these are very fat OSs:
- a lot of unused software
- many configuration files
- a lot of strange behavior

But for some reason these distributions are very useful

*** Gentoo, LFS

Fuss too much with them

*** NixOS, GuixSD

NixOS:

- DSL
- some +my+ issues
- FHS (Filesystem Hierarchy Standard)

GuixSD:

- very unstable
- libre OS

* Software

Only my experience, but exist very very much others utilities

** Internet
*** Network managers

- NetworkManager (nmcli, nmtui)
- systemd-networkd

*** Tor and I2P

torify, SOCKS

*** Web browsers
**** CLI, TUI

- w3m
- elinks

**** Firefox

Others unstable and have less features (based on webkit, didn't have Rust): luakit, surf, qutebrowser

Pendactyl for LSR
Tridactyl after updates
VimiumC

*** yotube-dl

mpv + tridactyl
In i3 scratchpad

*** curl — httpie

Nice format, simple using

*** wget — aria2

More fast, can download torrents, more protocols

*** Cloud storages

WebDAV
gvfs with encryption

*** Torrents
**** Transmission

Server
Mobile client
CLI client for scripts + TUI client - tremc

**** peerflix

Needed replace developed in Rust

Auto sync with transmission for speedup

*** Mail
**** neomutt

notmuch

offlineimap

GPG

*** Messengers

BitlBee — gateway
WeeChat — IRC
MCabber, profanity — XMPP
toxic — tox
tg-cli — telegram, but telegram desktop also
Try to forward all to XMPP, but it was very hard

*** RSS, news

newsboat

Aggregate from all

Later create channels with bot, which send RSS to channel
Also use Twitter to RSS

Now I don't read news, very much time, which I can spend for developing

*** Remote desktop

For easy task use ssh with X forwarding, use settings for compress and encrypting traffic for speedup
For hard task use VNC

Also I use qemu with SPICE and connect through VNC

** Multimedia
*** Image viewers
**** Framebuffer

- fbi
- fbv

**** Simple

- feh
- vimiv
- sxiv

*** ImageMagick

Very powerful image processing tool

*** Music

I don't like music streaming services, because too much choices. I have player, which firmware is open source, I create tools for syncing playlists. I create mini iTunes.

**** mpd

Server with clients:
- mobile
- GUI
- TUI
- CLI

**** mpdscribble
**** pianobar

Online radio

*** Video
**** Players

mpv most powerful video/audio player
cvlc CLI version of VLC

**** FFmpeg

Converting, hardware rendering, screencasting, input/output many formats (camera, screens, devices)

*** Metadata

ExifTool
exiv2

Many interesting things you can know from metadata of video, images and data

*** File transfer

Android file transfer, MTP
OpenDrop, AirDrop
WiFi server

** Utilities
*** Terminal emulators

urxvt with many patches and plugins developed in Perl, old
Alacritty GPU rendering, Rust, many features, but simple
Kitty Python, many features, slow with tmux, GPU, Unicode, many nice bindings

*** Multiplexers. tmux

byobu

*** File managers
**** ranger

Python, features, slow

**** vifm

C, VIM, features
Batch renaming
Diffing
Filtering
Searching

*** Synchronization

Syncthing
Unison

*** restic for backups

Snapshots, encrypted, many protocols + systemd

*** Git

You should learn it.
Gitea, GitLab
Use everywhere

** Text editing

Don't use doc{,x} ppt, xls and others

*** VIM
*** Emacs

Rust ♥️ Emacs = remacs

*** Spacemacs
*** LaTeX
*** Org mode

This presentation created in org mode

*** AsciiDoc

Many features

*** Markdown

For work

*** Pandoc
*** Zathura

For all + evince

*** OCR

Tesseract

*** Dictionary and translation

Scripts and GoldenDict

*** Spell checkers

Everywhere
Aspell, hunspell + LanguageTool for grammars

** Core utilities

Utilities stable but old and have few features

Not replace, but alternatives

For scripts you should use first order applications for compatability

It's normal, that more than half applications were developed in Rust language

*** Bash — Zsh
*** ls — lsd
*** tree — exa
*** cat + less, more — bat
*** cp, mv, rm — rsync

=-i= for prompting the user before the action

Also backups

*** du — ncdu

sn — developed in Rust, multithreads, speedup

*** tar, (un)zip — bsdtar, 7z
*** find — fd
*** diff — git-diff, colordiff

More powerful, more future

colordiff, diffoscope

**** vimdiff (VIM), ediff (Emacs)

Powerful interactive tools

3-way diff

*** grep — ripgrep

- faster
- multiline grep
- powerful regexp on Rust
- modern
- rgall replace find + grep

*** sed, {g,n,m}awk

You should use it more often

*** dmesg — journalctl

- filters
- all info from syslog, dmesg, other logging systems

*** (u)mount — udisks2

Mounting with user's permissions

Manipulating by systemd

*** Shell built-ins

- alias
- type
- time

Other functions

*** Simple and useful tools for RE and etc
**** tee
**** mktemp
**** tr
**** cut
**** od, xxd, hexdump
**** sort, uniq, comm
**** head, tail
**** wc
**** strings
**** iconv
**** file
*** Rust section

Install rustup

cargo install and you on the horse

**** tokei

Rust

Inspect source code

**** jq

JSON prettifier

**** xsv

Rust

Very fast parsing of large CSV files

miller have more features

**** fselect

Rust

Finding on file system with SQL queries. Find + ls + awk

**** bingrep

Color readelf, more powerful grep for elf files

**** ripgrepall

Find everywhere: binary files, PDFs, images, music, video, etc

**** stringsext

Better searching Unicode strings, but performance may be better

**** tealdeer

tldr, documentation

*** Other useful core utilities

- ls{blk,pci,cpu,usb}
- sudo, but not su (sudoedit for editing files)
- kill, pkill, killall
- pgrep, pidof
- ps, free, top, htop

*** Systemd

vs SYSinitV

** Security
*** Password manager

pass

** Windows managers
*** i3
*** Panel
*** dmenu, rofi
*** dunst

Notification

*** Clipboard manager
* Tips'n'Tricks or fully automation
** Configurations

Chezmoi — sync configs for everything.

Check directories and files in home directory and delete it or add to ignore list or add to configuration list files.

Check unneeded packages and install new or delete unneeded.

You can encrypt files, part of elements, use different configurations for different machines.

*** Dark and bright

Pain in the eyes or headache.

Auto switching temperature of color, but can't automate the detecting of the light switch off.

** VIM/Emacs everywhere

Don't use mouse, because it need more time, than keyboard. Home row of your keyboard is your friend: speedup, less fever.

Xdotool + Emacs = edit everything in Emacs

VIM/Emacs keymaps and modes everything: browser, IDE (IDEA, eclipse, etc), windows manager, multiplexer, music player, torrent manipulation programs, mail, everything except Ghidra.

** Presentations, reports, documents

Only plaintext, because you can diffing and use git for that.

I can convert org mode (asciidoc) to everything: plaintext, static HTML, LaTeX, PDF, presentations (beamer, reveal.js).

I can share sources and use parts of already wrote items.

I have many notes with ideas, presentations.

I sync between machines reports, documents for working with everywhere.

** Metro workflow

Edit, git add

Org mode, orgzly, git on mobile

I don't use social networks and don't read news, I try to create and structure my knowledge. It's very helpful for me.

Read issues, developers lists, write answers.

** Mobile phone

Use open source utilities: F-Droid.

Use Termux actively: ssh, running all Linux stuff (tmux and my rust programs), share Chezmoi configs.

** Router, multimedia box

All works on the ArchLinux.

Pihole, multimedia combine player, I forget name.

** Packages and open source

It's cause why I not use NixOS.

I have custom PKGBUILDs for all patched software (also cracks^Winitial settings for proprietary software). I also maintainer of some packages in AUR and regulate other packages (ask update, delete, permissions of maintaining).

** Automate everything

Follow for the tickets, news, sites (scripts in Python, PHP, Rust).

First target was CDO. I don't like specific subjects, but need info about it: I wrote bot for VK, which sent me messages and documents from group. Hack the CDO.

No ads everywhere, scripting blocks for even complex ads from Yandex.

** Statistics about everything

I inspect everything: our family budget, the books that I read, movies and serials that I watched, my sports actions, party board games, etc. I use text files for managing it all, I can filter, create reports, sharing information between machines, all is encrypted.
I use GUI or sites for something tasks, because my wife can't use my tools. I export information from this and continue use my tools for that.

* Summary

10% of all, needed time

Needed person, who can say me: "It's useful, taste it"

I want to create smart home, but it's very hard, because you should create user-friendly interface.

You must read [[https://github.com/jlevy/the-art-of-command-line][this]], because I don't want to share information, which already exist in structural forms.

Like a book about CLI — https://github.com/learnbyexample/Command-line-text-processing.

[[https://suckless.org/rocks/][Suckless]]. Develops many useful apps, but it's very minimal. One app — one function, you need recompile program for changing settings.
